(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userManage"],{"1f4f":function(t,e,s){"use strict";s("a9e3");var a=s("5530"),i=(s("8b37"),s("80d2")),r=s("7560"),n=s("58df");e["a"]=Object(n["a"])(r["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(a["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"2bc5":function(t,e,s){"use strict";s("a15b");var a=s("5530"),i=(s("abd3"),s("ade3")),r=s("1c87"),n=s("58df"),c=Object(n["a"])(r["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),s=e.tag,i=e.data;return t("li",[t(s,Object(a["a"])(Object(a["a"])({},i),{},{attrs:Object(a["a"])(Object(a["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),o=s("80d2"),d=Object(o["i"])("v-breadcrumbs__divider","li"),l=s("7560");e["a"]=Object(n["a"])(l["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(d,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,s=[],a=0;a<this.items.length;a++){var i=this.items[a];s.push(i.text),e?t.push(this.$scopedSlots.item({item:i})):t.push(this.$createElement(c,{key:s.join("."),props:i},[i.text])),a<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"8b37":function(t,e,s){},a434:function(t,e,s){"use strict";var a=s("23e7"),i=s("23cb"),r=s("a691"),n=s("50c4"),c=s("7b0b"),o=s("65f0"),d=s("8418"),l=s("1dde"),u=s("ae40"),h=l("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,p=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h||!m},{splice:function(t,e){var s,a,l,u,h,m,g=c(this),x=n(g.length),_=i(t,x),$=arguments.length;if(0===$?s=a=0:1===$?(s=0,a=x-_):(s=$-2,a=p(f(r(e),0),x-_)),x+s-a>b)throw TypeError(v);for(l=o(g,a),u=0;u<a;u++)h=_+u,h in g&&d(l,u,g[h]);if(l.length=a,s<a){for(u=_;u<x-a;u++)h=u+a,m=u+s,h in g?g[m]=g[h]:delete g[m];for(u=x;u>x-a+s;u--)delete g[u-1]}else if(s>a)for(u=x-a;u>_;u--)h=u+a-1,m=u+s-1,h in g?g[m]=g[h]:delete g[m];for(u=0;u<s;u++)g[u+_]=arguments[u+2];return g.length=x-a+s,l}})},abd3:function(t,e,s){},afa2:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"pa-15"},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-breadcrumbs",{attrs:{items:t.breadcrumbs,large:""}}),s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(" 會員姓名 ")]),s("th",{staticClass:"text-left"},[t._v(" 會員帳號 ")]),s("th",{staticClass:"text-center"},[t._v(" 操作 ")])])]),s("tbody",t._l(t.users,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.name))]),s("td",[e.edit?s("v-text-field",{attrs:{filled:""},model:{value:e.model,callback:function(s){t.$set(e,"model",s)},expression:"user.model"}}):s("span",[t._v(t._s(e.account))])],1),s("td",{staticClass:"text-center"},[e.edit?t._e():s("p",[s("v-btn",{attrs:{icon:""},on:{click:function(s){return t.editUser(e)}}},[s("v-icon",{attrs:{small:""}},[t._v(" mdi-lead-pencil ")])],1),s("v-btn",{attrs:{icon:""},on:{click:function(s){return t.deleteUser(e,a)}}},[s("v-icon",{attrs:{small:""}},[t._v(" mdi-trash-can ")])],1)],1),e.edit?s("p",[s("v-btn",{on:{click:function(s){return t.saveEdit(e)}}},[t._v(" 儲存變更 ")]),s("v-btn",{on:{click:function(s){return t.cancelEdit(e)}}},[t._v(" 取消 ")])],1):t._e()])])})),0)]},proxy:!0}])})],1)],1)],1)},i=[],r=(s("d81d"),s("a434"),{data:function(){return{breadcrumbs:[{text:"會員資料管理",disabled:!0,href:"breadcrumbs_dashboard"}],users:[],user:""}},computed:{manager:function(){return this.$store.state.manager}},methods:{editUser:function(t){t.edit=!0,t.model=t.account},cancelEdit:function(t){t.edit=!1,t.account=t.model},saveEdit:function(t){var e=this;this.axios.patch("https://theatermap.herokuapp.com/users/manager/"+t._id+"/edit",{description:t.model}).then((function(s){s.data.success?(t.edit=!1,t.account=t.model):e.$swal({icon:"error",title:"錯誤",text:s.data.message})})).catch((function(t){console.log(t),e.$swal({icon:"error",title:"錯誤",text:t.response.data.message})}))},deleteUser:function(t,e){var s=this;this.axios.delete("https://theatermap.herokuapp.com/users/manager/"+t._id+"/delete").then((function(t){t.data.success?s.users.splice(e,1):s.$swal({icon:"error",title:"錯誤",text:t.data.message})})).catch((function(t){s.$swal({icon:"error",title:"錯誤",text:t.response.data.message})}))}},mounted:function(){var t=this;this.axios.get("https://theatermap.herokuapp.com/users/manager/"+this.manager.id).then((function(e){e.data.success?t.users=e.data.result.map((function(t){return t.model=t.account,t.edit=!1,t})):t.$swal({icon:"error",title:"錯誤",text:e.data.message})}))}}),n=r,c=s("2877"),o=s("6544"),d=s.n(o),l=s("2bc5"),u=s("8336"),h=s("62ad"),m=s("a523"),f=s("132d"),p=s("0fd9"),b=s("1f4f"),v=s("8654"),g=Object(c["a"])(n,a,i,!1,null,null,null);e["default"]=g.exports;d()(g,{VBreadcrumbs:l["a"],VBtn:u["a"],VCol:h["a"],VContainer:m["a"],VIcon:f["a"],VRow:p["a"],VSimpleTable:b["a"],VTextField:v["a"]})}}]);
//# sourceMappingURL=userManage.582fdf57.js.map